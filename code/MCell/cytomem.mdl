iterations = 30
dt = 1e-2
halfbox = 10

kon = 1e500

TIME_STEP = dt
ITERATIONS = iterations

DEFINE_MOLECULES
{
	PHc  {DIFFUSION_CONSTANT_3D = 6e-4}
	PHm  {DIFFUSION_CONSTANT_2D = 6e-4}
	p3   {DIFFUSION_CONSTANT_2D = 6e-4}
}

DEFINE_REACTIONS {
	PHc; + p3; -> PHm; [kon]
}

my_box BOX 
{
	CORNERS = [-halfbox,-halfbox,-halfbox],[halfbox,halfbox,halfbox]
	DEFINE_SURFACE_REGIONS {
		r1 {
			ELEMENT_LIST = [TOP]
			MOLECULE_DENSITY { p3' = 10 } 
		}
	}
}

release_site SPHERICAL_RELEASE_SITE {
	LOCATION = [0,0,0]
	SITE_DIAMETER = halfbox/2
	MOLECULE = PHc
	NUMBER_TO_RELEASE = 10000
}

INSTANTIATE world OBJECT 
{
	system OBJECT my_box { }
	release_site OBJECT release_site { }
}

REACTION_DATA_OUTPUT
{
	STEP = dt * 1
	{COUNT[PHm,WORLD]} => "./output/A.dat"
}

VIZ_OUTPUT
{
	MODE = DREAMM_V3_GROUPED
	FILENAME = "output/vol"
	MOLECULES {
		NAME_LIST { PHm PHc }
		ITERATION_NUMBERS { ALL_DATA @ ALL_ITERATIONS }
	}
	MESHES {
		NAME_LIST { ALL_MESHES }
		TIME_POINTS { ALL_DATA @ [0] }
	}
}

/*
VIZ_OUTPUT
{
	MODE = ASCII

	STATE_VALUES
	{
		p3 = 45
	}
	
	MOLECULE_FILE_PREFIX = "output/AA"
	
	ITERATION_LIST = [1, 2, 3]
}
*/

NOTIFICATIONS
{
	FILE_OUTPUT_REPORT=YES
	FINAL_SUMMARY=YES
	ALL_NOTIFICATIONS=ON
}

WARNINGS
{
	ALL_WARNINGS=WARNING
}